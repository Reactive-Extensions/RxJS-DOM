{"version":3,"file":"rx.dom.min.js","sources":["rx.dom.js"],"names":["factory","checkGlobal","value","Object","objectTypes","function","object","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","freeSelf","self","freeWindow","window","thisGlobal","this","root","Function","define","amd","Rx","require","call","exp","undefined","tryCatcherGen","tryCatchTarget","apply","arguments","e","errorObj","tryCatch","fn","isFunction","TypeError","CreateListenerDisposable","element","name","handler","useCapture","_e","_n","_fn","_u","addEventListener","isDisposed","createListener","Error","createEventListener","el","eventName","disposables","CompositeDisposable","toStr","prototype","toString","i","len","length","add","item","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","getCORSRequest","xhr","withCredentials","XDomainRequest","normalizeAjaxSuccessEvent","settings","response","responseText","responseType","JSON","parse","status","originalEvent","normalizeAjaxErrorEvent","type","socketClose","socket","closingObserver","code","reason","onNext","onCompleted","close","getMutationObserver","next","M","MutationObserver","WebKitMutationObserver","ObservableBase","Observable","AbstractObserver","internals","Disposable","Observer","create","BinaryDisposable","SingleAssignmentDisposable","Subject","Scheduler","dom","DOM","hasOwnProperty","helpers","noop","inherits","dispose","removeEventListener","FromEventObservable","__super__","selector","_uc","createHandler","o","results","onError","subscribeCore","fromEvent","selectorFn","publish","refCount","events","PointerEvent","TouchEvent","split","ReadyObservable","ReadyDisposable","_o","_addedHandlers","document","readyState","setTimeout","ready","AjaxObservable","_settings","AjaxDisposable","state","_state","_xhr","isDone","normalizeError","normalizeSuccess","processResponse","createXHR","err","user","open","method","url","async","password","headers","header","setRequestHeader","timeout","ontimeout","progressObserver","upload","onload","onprogress","onerror","onabort","onreadystatechange","contentType","hasContent","body","newBody","prop","push","join","send","abort","ajaxRequest","ajax","options","crossDomain","post","get","getJSON","map","x","destroy","trash","createElement","appendChild","innerHTML","ScriptObservable","ScriptDisposable","script","_script","id","jsonp","jsonpCallback","src","replace","data","called","onreadystatechanged","head","getElementsByTagName","documentElement","insertBefore","firstChild","jsonpRequest","SocketObservable","protocol","_url","_protocol","_open","_close","createOpenHandler","openHandler","createMsgHandler","createErrHandler","createCloseHandler","wasClean","SocketDisposable","msgFn","errFn","closeFn","_socket","_msgFn","_errFn","_closeFn","WebSocket","msgHandler","errHandler","closeHandler","SocketObserver","OPEN","error","completed","fromWebSocket","openObserver","WorkerObserver","worker","postMessage","WorkerObservable","createMessageHandler","WorkerDisposable","w","_w","terminate","Worker","messageHandler","fromWorker","MutationObserverObservable","target","_target","_options","InnerDisposable","mutationObserver","_m","disconnect","observe","fromMutationObserver","CurrentPositionObservable","opts","_opts","navigator","geolocation","getCurrentPosition","WatchPositionObservable","WatchPositionDisposable","_id","clearWatch","watchId","watchPosition","geolocationOptions","navigation","FromReaderObservable","readerFn","file","encoding","_readerFn","_file","_progressObserver","_encoding","createLoadHandler","p","result","createErrorHandler","createProgressHandler","FromReaderDisposable","reader","loadHandler","errorHandler","progressHandler","_r","_po","_lFn","_eFn","_pFn","FileReader","LOADING","fromReader","asArrayBuffer","asBinaryString","asDataURL","asText","EventSourceObservable","createOnOpen","source","onOpen","createOnError","EventSource","CLOSED","createOnMessage","EventSourceDisposable","s","_s","onMessage","fromEventSource","requestAnimFrame","cancelAnimFrame","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","RequestAnimationFrameScheduler","scheduleAction","disposable","action","scheduler","setDisposable","_fixup","ClearDisposable","_method","schedule","_scheduleFuture","dueTime","microtask","clearMethod","handle","tasksByHandle","runTask","currentlyRunning","task","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","onGlobalPostMessage","event","substring","MSG_PREFIX","scheduleMethod","nextHandle","BrowserMutationObserver","PREFIX","observer","mutations","forEach","mutation","attributeName","attributes","setAttribute","setImmediate","Math","random","attachEvent","MessageChannel","channel","port1","port2","scriptElement","parentNode","removeChild","MicroTaskScheduler"],"mappings":"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"}